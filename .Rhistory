mutate(tones = replace_na(tones, "N/A"),
NFD6 = replace_na(NFD6, 0),
NFD5 = replace_na(NFD6, 0),
NFD4 = replace_na(NFD4, 0),
NFD3 = replace_na(NFD3, 0),
NFD2 = replace_na(NFD2, 0),
NFD1 = replace_na(NFD1, 0)) %>%
pivot_longer(cols = 3:8, names_to = "Sentence", values_to = "Percentage")
plotdf %>%
ggplot(aes(x = tones, y = Percentage, fill = DEPT, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal() +
facet_grid(~Sentence)
plotdf %>%
ggplot(aes(x = tones, y = Percentage, fill = DEPT, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal() +
facet_wrap(~Sentence)
plotdf %>%
ggplot(aes(x = tones, y = Percentage, fill = DEPT, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal() +
facet_wrap(~Sentence) + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
plotdf
plotdf %>%
write.csv(here("data", "tidy", "stim_df.csv"))
stim_df = read.csv(here("data", "tidy", "stim_df.csv"))
stim_df %>%
ggplot(aes(x = tones, y = Percentage, fill = DEPT, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal() +
facet_wrap(~Sentence) + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
stim_df
stim_df %>%
knitr::kable(format == "pandoc")
stim_df %>%
knitr::kable(format = "pandoc")
stim_df %>%
select(-X) %>%
knitr::kable(format = "pandoc")
data = long_all
adjnum = data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(DEPT, sentence) %>%
summarize(n = n())
source(here::here("00_helpers.R"))
library(ggsignif)
library(tidyverse)
library(here)
mv_long = read.csv(here("data", "tidy", "mv_long.csv"))
dz_long = read.csv(here("data", "tidy", "dz_long.csv"))
stim_df = read.csv(here("data", "tidy", "stim_df.csv"))
long_all = rbind(mv_long, dz_long)
model_df = long_all %>%
group_by(tones, DEPT, sentence_type) %>%
summarize(n = n()) %>%
pivot_wider(names_from = DEPT, values_from = n) %>%
filter(Montevideo > 5 | Durazno > 5) %>%
pivot_longer(cols = 3:4, names_to = "City", values_to = "count") %>%
mutate(tones = replace_na(tones, "N/A")) %>%
mutate(total_speakers = case_when(
City == "Montevideo" ~ 30,
City == "Durazno" ~ 20
))
long_all$tones = gsub("L*L%"  , "L* L%" , long_all$tones , fixed = TRUE)
data = long_all
adjnum = data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(DEPT, sentence) %>%
summarize(n = n())
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(DEPT, sentence) %>%
summarize(n = n())
data = long_all
adjnum = data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(DEPT, sentence) %>%
summarize(n = n())
plotdf = data %>%
filter(position == p) %>%
filter(sentence_type == st) %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
filter(n > .1) %>%
pivot_wider(names_from = sentence, values_from = n) %>%
mutate(tones = replace_na(tones, "N/A"),
BFD6 = replace_na(BFD6, 0),
BFD5 = replace_na(BFD6, 0),
BFD4 = replace_na(BFD4, 0),
BFD3 = replace_na(BFD3, 0),
BFD2 = replace_na(BFD2, 0),
BFD1 = replace_na(BFD1, 0)) %>%
pivot_longer(cols = 3:8, names_to = "Sentence", values_to = "Percentage")
data = long_all
adjnum = data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(DEPT, sentence) %>%
summarize(n = n())
plotdf = data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
filter(n > .1) %>%
pivot_wider(names_from = sentence, values_from = n) %>%
mutate(tones = replace_na(tones, "N/A"),
BFD6 = replace_na(BFD6, 0),
BFD5 = replace_na(BFD6, 0),
BFD4 = replace_na(BFD4, 0),
BFD3 = replace_na(BFD3, 0),
BFD2 = replace_na(BFD2, 0),
BFD1 = replace_na(BFD1, 0)) %>%
pivot_longer(cols = 3:8, names_to = "Sentence", values_to = "Percentage")
data = long_all
adjnum = data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(DEPT, sentence) %>%
summarize(n = n())
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
filter(n > .1) %>%
pivot_wider(names_from = sentence, values_from = n)
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n())
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
pivot_wider(names_from = sentence, values_from = n)
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
pivot_wider(names_from = sentence, values_from = n) %>%
mutate(tones = replace_na(tones, "N/A"),
BFD4 = replace_na(BFD4, 0),
BFD1 = replace_na(BFD1, 0),
BFD2 = replace_na(BFD2, 0))
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
pivot_wider(names_from = sentence, values_from = n) %>%
mutate(tones = replace_na(tones, "N/A"),
BFD4 = replace_na(BFD4, 0),
BFD1 = replace_na(BFD1, 0),
BFD2 = replace_na(BFD2, 0))
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
pivot_wider(names_from = sentence, values_from = n) %>%
mutate(tones = replace_na(tones, "N/A"),
BFD4 = replace_na(BFD4, 0),
BFD1 = replace_na(BFD1, 0),
BFD2 = replace_na(BFD2, 0)) %>%
pivot_longer(cols = 3:6, names_to = "Sentence", values_to = "Percentage")
data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
pivot_wider(names_from = sentence, values_from = n) %>%
mutate(tones = replace_na(tones, "N/A"),
BFD4 = replace_na(BFD4, 0),
BFD1 = replace_na(BFD1, 0),
BFD2 = replace_na(BFD2, 0)) %>%
pivot_longer(cols = 3:5, names_to = "Sentence", values_to = "Percentage")
plotdf = data %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT, sentence) %>%
summarize(n = n()) %>%
mutate(n = case_when(
DEPT == "Montevideo" ~ n/30,
DEPT == "Durazno" ~ n/20,
)) %>%
pivot_wider(names_from = sentence, values_from = n) %>%
mutate(tones = replace_na(tones, "N/A"),
BFD4 = replace_na(BFD4, 0),
BFD1 = replace_na(BFD1, 0),
BFD2 = replace_na(BFD2, 0)) %>%
pivot_longer(cols = 3:5, names_to = "Sentence", values_to = "Percentage")
plotdf %>%
ggplot(aes(x = tones, y = Percentage, fill = DEPT, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal() +
facet_wrap(~Sentence) + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
source(here::here("00_helpers.R"))
library(ggsignif)
library(tidyverse)
library(here)
mv_long = read.csv(here("data", "tidy", "mv_long.csv"))
dz_long = read.csv(here("data", "tidy", "dz_long.csv"))
stim_df = read.csv(here("data", "tidy", "stim_df.csv"))
stim_df_bfd = read.csv(here("data", "tidy", "stim_df_bfd.csv"))
plotdf %>%
write.csv(here("data", "tidy", "stim_df_bfd.csv"))
make_sig_plot_gender("N", "BFD", long_all) + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
make_sig_plot_gender("N1", "NFD", long_all) + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
library(tidyverse)
library(here)
mv_long = read.csv(here("data", "tidy", "mv_long.csv"))
dz_long = read.csv(here("data", "tidy", "dz_long.csv"))
long_all = rbind(mv_long, dz_long)
long_all$tones = gsub("L*L%"  , "L* L%" , long_all$tones , fixed = TRUE)
unique(long_all$tones)
long_all
glimpse(long_all)
long_all = rbind(mv_long, dz_long) %>%
filter(sentence_type == "BFD")
library(tidyverse)
library(here)
mv_long = read.csv(here("data", "tidy", "mv_long.csv"))
dz_long = read.csv(here("data", "tidy", "dz_long.csv"))
long_all = rbind(mv_long, dz_long)
long_all$tones = gsub("L*L%"  , "L* L%" , long_all$tones , fixed = TRUE)
bfd_df = long_all %>%
filter(sentence_type == "BFD")
unique(bfd_df$tones)
long_all %>%
filter(sentence_type == "BFD") %>%
mutate(tone_simplified =
case_when(
tones == "L+H* L%" ~ "L+H*",
tones == "L* L%" ~ "L*",
tones == "L+<H* L%" ~ "L+<H*"
))
unique(bfd_df$tones)
long_all %>%
filter(position == "N") %>%
filter(sentence_type == "BFD") %>%
group_by(tones, DEPT) %>%
summarize(n = n()) %>%
pivot_wider(names_from = DEPT, values_from = n) %>%
mutate(Montevideo = round(replace_na(Montevideo, 0)/90, digits = 2)*100) %>%
mutate(Durazno = round(replace_na(Durazno, 0)/60, digits = 2)*100) %>%
knitr::kable(format = "pandoc", caption = "Total percentage of each pitch accent in nuclear position for Broad Focus Decaratives.")
make_sig_plot("N", "BFD", long_all)
make_sig_plot("N", "BFD", long_all)
make_sig_plot("N", "BFD", long_all)
stim_df %>%
select(-X) %>%
knitr::kable(format = "pandoc")
stim_df = read.csv(here("data", "tidy", "stim_df.csv"))
make_sig_plot("N1","NFD", long_all)
make_sig_plot("N", "BFD", long_all)
library("papaja")
r_refs("r-references.bib")
source(here::here("00_helpers.R"))
library(ggsignif)
library(tidyverse)
library(here)
mv_long = read.csv(here("data", "tidy", "mv_long.csv"))
dz_long = read.csv(here("data", "tidy", "dz_long.csv"))
stim_df = read.csv(here("data", "tidy", "stim_df.csv"))
stim_df_bfd = read.csv(here("data", "tidy", "stim_df_bfd.csv"))
long_all = rbind(mv_long, dz_long)
model_df = long_all %>%
group_by(tones, DEPT, sentence_type) %>%
summarize(n = n()) %>%
pivot_wider(names_from = DEPT, values_from = n) %>%
filter(Montevideo > 5 | Durazno > 5) %>%
pivot_longer(cols = 3:4, names_to = "City", values_to = "count") %>%
mutate(tones = replace_na(tones, "N/A")) %>%
mutate(total_speakers = case_when(
City == "Montevideo" ~ 30,
City == "Durazno" ~ 20
))
long_all$tones = gsub("L*L%"  , "L* L%" , long_all$tones , fixed = TRUE)
make_sig_plot("N", "BFD", long_all)
unique(long_all$position)
make_sig_plot("PN1", "BFD", long_all)
make_sig_plot("PN2", "BFD", long_all)
make_sig_plot("PN3", "BFD", long_all)
make_sig_plot("PN4", "BFD", long_all)
make_sig_plot("PN5", "BFD", long_all)
make_sig_plot("PN5", "BFD", long_all)
make_sig_plot_gender("N1", "NFD", long_all) + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
make_sig_plot_gender("N1", "NFD", long_all) + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
make_sig_plot("PN1", "BFD", long_all)
View(long_all)
View(dz_long)
make_sig_plot("N", "BFD", long_all)
library(here)
library(tidyverse)
mv_data = read.csv(here("data", "mv_data.csv"))
dz_data = read.csv(here("data", "dz_data.csv"))
length(unique(mv_data$NAME))
length(unique(dz_data$NAME))
mv_long = mv_data %>%
pivot_longer(cols = c(8:39), values_to = "tones", names_to = "sentence") %>%
separate(sentence, into = c("sentence","position", "words")) %>%
mutate(sentence_type = substr(sentence, start = 1, stop = 3)) %>%
mutate(total_speakers = length(unique(mv_data$NAME)))
View(mv_long)
mv_long = mv_data %>%
pivot_longer(cols = c(8:39), values_to = "tones", names_to = "sentence") %>%
separate(sentence, into = c("sentence","position", "words", "focused")) %>%
mutate(sentence_type = substr(sentence, start = 1, stop = 3)) %>%
mutate(total_speakers = length(unique(mv_data$NAME)))
View(mv_long)
mv_long
View(mv_long)
unique(mv_long)
unique(mv_long$position)
mv_long = mv_data %>%
pivot_longer(cols = c(8:39), values_to = "tones", names_to = "sentence") %>%
separate(sentence, into = c("sentence","position", "words", "focused")) %>%
mutate(sentence_type = substr(sentence, start = 1, stop = 3)) %>%
mutate(total_speakers = length(unique(mv_data$NAME))) %>%
mutate(position = case_when(
position == "N" ~ "N",
position == "N1" ~ "N",
position == "PN1" ~ "PN",
position == "PN2" ~ "PN",
position == "PN3" ~ "PN",
position == "PN4" ~ "PN",
position == "PN5" ~ "PN"
))
View(mv_long)
library(here)
library(tidyverse)
mv_data = read.csv(here("data", "mv_data.csv"))
dz_data = read.csv(here("data", "dz_data.csv"))
length(unique(mv_data$NAME))
length(unique(dz_data$NAME))
mv_long = mv_data %>%
pivot_longer(cols = c(8:39), values_to = "tones", names_to = "sentence") %>%
separate(sentence, into = c("sentence","position", "words", "focused")) %>%
mutate(sentence_type = substr(sentence, start = 1, stop = 3)) %>%
mutate(total_speakers = length(unique(mv_data$NAME))) %>%
mutate(position = case_when(
position == "N" ~ "N",
position == "N1" ~ "N",
position == "PN1" ~ "PN",
position == "PN2" ~ "PN",
position == "PN3" ~ "PN",
position == "PN4" ~ "PN",
position == "PN5" ~ "PN"
))
mv_long %>%
write.csv(here("data", "tidy", "mv_long.csv"))
dz_long = dz_data %>%
pivot_longer(cols = c(8:39), values_to = "tones", names_to = "sentence") %>%
separate(sentence, into = c("sentence","position", "words", "focused")) %>%
mutate(sentence_type = substr(sentence, start = 1, stop = 3)) %>%
rename("Age.Group" = "AGE.GROUPS") %>%
mutate(total_speakers = length(unique(dz_data$NAME))) %>%
mutate(position = case_when(
position == "N" ~ "N",
position == "N1" ~ "N",
position == "PN1" ~ "PN",
position == "PN2" ~ "PN",
position == "PN3" ~ "PN",
position == "PN4" ~ "PN",
position == "PN5" ~ "PN"
))
dz_long %>%
write.csv(here("data", "tidy", "dz_long.csv"))
source(here::here("00_helpers.R"))
library(ggsignif)
library(tidyverse)
library(here)
mv_long = read.csv(here("data", "tidy", "mv_long.csv"))
dz_long = read.csv(here("data", "tidy", "dz_long.csv"))
stim_df = read.csv(here("data", "tidy", "stim_df.csv"))
stim_df_bfd = read.csv(here("data", "tidy", "stim_df_bfd.csv"))
long_all = rbind(mv_long, dz_long)
model_df = long_all %>%
group_by(tones, DEPT, sentence_type) %>%
summarize(n = n()) %>%
pivot_wider(names_from = DEPT, values_from = n) %>%
filter(Montevideo > 5 | Durazno > 5) %>%
pivot_longer(cols = 3:4, names_to = "City", values_to = "count") %>%
mutate(tones = replace_na(tones, "N/A")) %>%
mutate(total_speakers = case_when(
City == "Montevideo" ~ 30,
City == "Durazno" ~ 20
))
long_all$tones = gsub("L*L%"  , "L* L%" , long_all$tones , fixed = TRUE)
make_sig_plot("PN", "BFD", long_all)
glimpse(mv_data)
glimpse(long_all)
data %>%
filter(DEPT == "Montevideo") %>%
group_by(tones, sentence) %>%
summarize(n = n())
data %>%
filter(DEPT == "Montevideo") %>%
group_by(tones, sentence) %>%
summarize(n = n())
long_all %>%
filter(DEPT == "Montevideo") %>%
group_by(tones, sentence) %>%
summarize(n = n())
long_all %>%
filter(DEPT == "Montevideo") %>%
group_by(tones, sentence) %>%
summarize(n = n())
long_all %>%
filter(DEPT == "Montevideo") %>%
group_by(tones, sentence) %>%
summarize(n = n()) %>%
ggplot(aes(x = tones, y = n, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal() +
facet_wrap(~sentence)
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD1") %>%
group_by(tones) %>%
summarize(n = n()) %>%
ggplot(aes(x = tones, y = n, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal()
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD1") %>%
group_by(tones, words) %>%
summarize(n = n()) %>%
ggplot(aes(x = tones, y = n, position = "dodge")) +
geom_col(color = "black", position = "dodge2") + theme_minimal()
unique(long_all$position)
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD1") %>%
group_by(tones, words) %>%
summarize(n = n())
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD2") %>%
group_by(tones, words) %>%
summarize(n = n()) %>%
ggplot(aes(x = words, y = n, fill = tones)) +
geom_col(color = "black", position = "dodge2") + theme_minimal()
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD2") %>%
group_by(tones, words) %>%
summarize(n = n()) %>%
ggplot(aes(x = words, y = n, fill = tones)) +
geom_col(color = "black") + theme_minimal()
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD1") %>%
group_by(tones, words) %>%
summarize(n = n()) %>%
ggplot(aes(x = words, y = n, fill = tones)) +
geom_col(color = "black") + theme_minimal()
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD3") %>%
group_by(tones, words) %>%
summarize(n = n()) %>%
ggplot(aes(x = words, y = n, fill = tones)) +
geom_col(color = "black") + theme_minimal()
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD3") %>%
group_by(tones, words)
unique(long_all$words)
unique(long_all$sentence)
long_all %>%
filter(DEPT == "Montevideo") %>%
filter(sentence == "BFD4") %>%
group_by(tones, words) %>%
summarize(n = n()) %>%
ggplot(aes(x = words, y = n, fill = tones)) +
geom_col(color = "black") + theme_minimal()
